(this.webpackJsonpboilermaker=this.webpackJsonpboilermaker||[]).push([[0],{33:function(e,t,n){e.exports=n(60)},60:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),o=n.n(c),l=n(10),i=n(3),u=n(9),s=n(17),m=n.n(s),f=function(e){return{type:"GOT_USERS",users:e}},d=function(e){return{type:"GOT_URLS",urls:e}},h={headers:{Authorization:"token 4641a07783ee0b71372516ac4faecffda229b4fc"}},v=window.localStorage,g="GOT_USERS",E="GOT_URLS",p="GOT_TOTAL_COUNT",O="GOT_KEYWORD",b="CLEAR_USERS",N="GOT_PAGE",S="CLEAR_TOTAL_COUNT",y="GOT_PAGINATION",w={searchUsers:function(e,t){return function(n){var a=v.getItem("API".concat(t));if(a){var r=JSON.parse(a);return Promise.all([function(){return n(d(r))}])}return m.a.get("https://api.github.com/search/users?q=".concat(e,"&page=").concat(t,"&per_page=100"),h).then((function(e){var t=e.data,a=t.total_count;n(function(e){return{type:"GOT_TOTAL_COUNT",totalCount:e}}(a));var r=t.items.map((function(e){return e.url}));console.log("SEARCH URLS: ",r),n(d(r))})).catch((function(e){console.error(e)}))}},fetchUsers:function(e){return function(t,n){console.log("IN FETCH USERS",e);var a;a=e%10===0?e-10+1:10*Math.floor(e/10)+1;var r=n().totalCount,c=Math.min(Math.ceil(r/10),100),o=Math.min(a+10-1,c);t({type:"GOT_PAGINATION",pagination:[a,o]}),console.log("PAGINATION: [".concat(a,", ").concat(o,"]"));var l=v.getItem(e+"");if(l){var i=JSON.parse(l);return t(f(i))}var u=n().urls,s=10*(e-1);console.log("URL SLICE:",s%100,s%100===90?100:(s+10)%100);var d=u.slice(s%100,s%100===90?100:(s+10)%100);return console.log("SLICEDURLS:",d),Promise.all(d.map((function(e){return m.a.get(e,h)}))).then((function(e){return e.map((function(e){var t=e.data;return{name:t.name,avatarUrl:t.avatar_url,email:t.email,login:t.login,location:t.location,repos:t.public_repos,followers:t.followers,bio:t.bio,url:t.html_url}}))})).then((function(e){t(f(e))})).catch((function(e){console.error(e)}))}},gotKeyword:function(e){return{type:"GOT_KEYWORD",keyword:e}},clearUsers:function(){return{type:"CLEAR_USERS"}},gotPage:function(e){return{type:"GOT_PAGE",page:e}},clearTotalCount:function(){return{type:"CLEAR_TOTAL_COUNT"}}},T=[],_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.users;case b:return[];default:return e}},U=[],C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return t.urls;default:return e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.totalCount;case S:return-1;default:return e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.keyword;default:return e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return t.page;default:return e}},k=[],R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.pagination;default:return e}},G=Object(u.c)({users:_,urls:C,totalCount:A,keyword:I,page:j,pagination:R}),L=n(31),P=Object(u.d)(G,Object(u.a)(L.a)),J=function(){return r.a.createElement("div",{id:"home"},r.a.createElement(K,null))},M=n(32),D=n(2),K=function(){var e=Object(a.useState)(""),t=Object(M.a)(e,2),n=t[0],c=t[1],o=Object(i.c)((function(e){return e.keyword})),l=Object(D.f)();return Object(a.useEffect)((function(){c(o)}),[o]),r.a.createElement("div",null,r.a.createElement("form",{className:"search-bar",onSubmit:function(e){e.preventDefault(),l.push("/search/".concat(n,"/1"))}},r.a.createElement("img",{id:"icon",src:"/icons/G.ico",alt:"icon"}),r.a.createElement("div",null,r.a.createElement("input",{className:"keyword",type:"text",placeholder:"Search Github users ...",name:"keyword",value:n,onChange:function(e){c(e.target.value)},required:!0})),r.a.createElement("input",{className:"submit",type:"submit",value:"Search"})))},W=function(){var e=Object(D.g)(),t=e.page,n=e.keyword,c=Object(i.c)((function(e){return e.keyword}));console.log("KEYWORD_STORE:",c);var o=Object(i.c)((function(e){return e.page}));console.log("PAGE_STORE:",o);var l=Object(i.c)((function(e){return e.users}));console.log("USERS",l);var u=Object(i.c)((function(e){return e.totalCount})),s=Object(i.c)((function(e){return e.pagination})),m=Object(i.b)(),f=Math.floor((t-1)/10)+1,d=window.localStorage;return Object(a.useEffect)((function(){n!==c?(d.clear(),m(w.clearTotalCount()),m(w.clearUsers()),m(w.gotKeyword(n)),m(w.gotPage(t)),m(w.searchUsers(n,f)).then((function(){return m(w.fetchUsers(t))}))):t!==o&&(m(w.clearUsers()),m(w.gotPage(t)),t<=s[1]&&t>=s[0]?m(w.fetchUsers(t)):m(w.searchUsers(n,f)).then((function(){console.log("WAS I HERE?"),m(w.fetchUsers(t))})))}),[n,t]),r.a.createElement("div",{id:"results"},u>-1?r.a.createElement("div",null,r.a.createElement("div",{id:"total-count"},u," users"),r.a.createElement("div",null,l.length?l.map((function(e){var t=e.avatarUrl,n=e.name,a=e.login,c=e.email,o=e.location,l=e.repos,i=e.followers,u=e.bio,s=e.url;return r.a.createElement("a",{target:"_blank",href:s,key:a},r.a.createElement("div",{className:"user-container"},r.a.createElement("div",{className:"inner-container"},r.a.createElement("div",{className:"info-left"},r.a.createElement("img",{className:"user-avatar",src:t,alt:"user-avatar"})),r.a.createElement("div",{className:"info-right"},n?r.a.createElement("div",{className:"user-name"},n):null,r.a.createElement("div",{className:"login"},a),c?r.a.createElement("div",{className:"email"},c):null,o?r.a.createElement("div",{className:"loc"},o):null,r.a.createElement("div",{className:"repo"},l," repos"),r.a.createElement("div",{className:"followers"},i," followers"),u?r.a.createElement("div",{className:"user-bio"},u):null),r.a.createElement("div",{className:"fade-out"}))))})):null)):r.a.createElement("div",{className:"loading"},"LOADING..."),l.length?r.a.createElement(Y,null):null)},H=function(){return r.a.createElement("div",{id:"main"},r.a.createElement(K,null),r.a.createElement(W,null))},Y=function(){for(var e=Object(i.c)((function(e){return e.page})),t=Object(i.c)((function(e){return e.pagination})),n=Object(i.c)((function(e){return e.users})),a=Object(i.c)((function(e){return e.urls})),c=Object(i.c)((function(e){return e.totalCount})),o=Math.min(Math.ceil(c/10),100),l=Object(D.g)().keyword,u=Object(D.f)(),s=[],m=t[0];m<=t[1];m++)s.push(m);var f=window.localStorage,d=Math.floor((e-1)/10)+1,h=function(){f.setItem(e,JSON.stringify(n)),f.setItem("API".concat(d),JSON.stringify(a)),u.push("/search/".concat(l,"/").concat(t[1]-10))},v=function(){f.setItem(e,JSON.stringify(n)),f.setItem("API".concat(d),JSON.stringify(a)),u.push("/search/".concat(l,"/").concat(t[0]+10))},g=function(t){f.setItem(e,JSON.stringify(n)),u.push("/search/".concat(l,"/").concat(t))};return r.a.createElement("div",{className:"page-nav"},1===t[0]?null:r.a.createElement("div",{onClick:h},"<<"),"1"===e?null:r.a.createElement("div",{onClick:function(){f.setItem(e,JSON.stringify(n)),e%10===1?h():g(Number(e)-1)}},"<"),s.map((function(t){var n="none";return t==e&&(n="bold"),r.a.createElement("div",{key:t,className:n,onClick:function(){return g(t)}},t)})),e===o.toString()?null:r.a.createElement("div",{onClick:function(){f.setItem(e,JSON.stringify(n)),e%10===0?v():g(Number(e)+1)}},">"),t[1]===o?null:r.a.createElement("div",{onClick:v},">>"))},q=function(){return r.a.createElement("div",null,r.a.createElement(D.c,null,r.a.createElement(D.a,{path:"/search/:keyword/:page",component:H}),r.a.createElement(D.a,{path:"/",component:J})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,{store:P},r.a.createElement(l.a,null,r.a.createElement(q,null))),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.edd89cf7.chunk.js.map