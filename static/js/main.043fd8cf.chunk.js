(this.webpackJsonpboilermaker=this.webpackJsonpboilermaker||[]).push([[0],{33:function(e,t,n){e.exports=n(60)},60:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),o=n.n(c),l=n(10),u=n(4),i=n(9),s=n(17),m=n.n(s),f=function(e){return{type:"GOT_USERS",users:e}},d=function(e){return{type:"GOT_URLS",urls:e}},g={headers:{Authorization:"token 4641a07783ee0b71372516ac4faecffda229b4fc"}},h=window.localStorage,v="GOT_USERS",p="GOT_URLS",E="GOT_TOTAL_COUNT",O="GOT_KEYWORD",N="CLEAR_USERS",b="GOT_PAGE",y="CLEAR_TOTAL_COUNT",w="GOT_PAGINATION",S={searchUsers:function(e,t){return function(n){var a=h.getItem("API".concat(t));if(a){var r=JSON.parse(a);return Promise.all([function(){return n(d(r))}])}return m.a.get("https://api.github.com/search/users?q=".concat(e,"&page=").concat(t,"&per_page=100"),g).then((function(e){var t=e.data,a=t.total_count;n(function(e){return{type:"GOT_TOTAL_COUNT",totalCount:e}}(a));var r=t.items.map((function(e){return e.url}));console.log(r),n(d(r))})).catch((function(e){console.error(e)}))}},fetchUsers:function(e){return function(t,n){console.log("IN FETCH USERS",e);var a,r=10*(e-1);a=e%10===0?e-10+1:10*Math.floor(e/10)+1,t({type:"GOT_PAGINATION",pagination:[a,a+10-1]}),console.log("PAGINATION: [".concat(a,", ").concat(a+10-1,"]"));var c=h.getItem(e+"");if(c){var o=JSON.parse(c);return t(f(o))}var l=n().urls.slice(r%100,r%100===90?100:(r+10)%100);return Promise.all(l.map((function(e){return m.a.get(e,g)}))).then((function(e){return e.map((function(e){var t=e.data;return{name:t.name,avatarUrl:t.avatar_url,email:t.email,login:t.login,location:t.location,repos:t.public_repos,followers:t.followers,bio:t.bio,url:t.html_url}}))})).then((function(e){t(f(e))})).catch((function(e){console.error(e)}))}},gotKeyword:function(e){return{type:"GOT_KEYWORD",keyword:e}},clearUsers:function(){return{type:"CLEAR_USERS"}},gotPage:function(e){return{type:"GOT_PAGE",page:e}},clearTotalCount:function(){return{type:"CLEAR_TOTAL_COUNT"}}},T=[],_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return t.users;case N:return[];default:return e}},U=[],A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.urls;default:return e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return t.totalCount;case y:return 0;default:return e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.keyword;default:return e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.page;default:return e}},j=[],G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return t.pagination;default:return e}},R=Object(i.c)({users:_,urls:A,totalCount:k,keyword:I,page:C,pagination:G}),P=n(31),J=Object(i.d)(R,Object(i.a)(P.a)),L=function(){return r.a.createElement("div",{id:"home"},r.a.createElement(W,null))},D=n(32),K=n(2),W=function(){var e=Object(a.useState)(""),t=Object(D.a)(e,2),n=t[0],c=t[1],o=Object(K.f)();return r.a.createElement("div",null,r.a.createElement("form",{className:"search-bar",onSubmit:function(e){e.preventDefault(),o.push("/search/".concat(n,"/1"))}},r.a.createElement("div",null,r.a.createElement("input",{className:"keyword",type:"text",placeholder:"Search Github users ...",name:"keyword",onChange:function(e){c(e.target.value)},required:!0})),r.a.createElement("input",{className:"submit",type:"submit",value:"Search"})))},M=function(){var e=Object(K.g)(),t=e.page,n=e.keyword,c=Object(u.c)((function(e){return e.keyword}));console.log("KEYWORD_STORE:",c);var o=Object(u.c)((function(e){return e.page}));console.log("PAGE_STORE:",o);var l=Object(u.c)((function(e){return e.users}));console.log("USERS",l);var i=Object(u.c)((function(e){return e.totalCount})),s=Object(u.c)((function(e){return e.pagination})),m=Object(u.b)(),f=Math.floor((t-1)/10)+1,d=window.localStorage;return Object(a.useEffect)((function(){n!==c?(d.clear(),m(S.clearTotalCount()),m(S.clearUsers()),m(S.gotKeyword(n)),m(S.gotPage(t)),m(S.searchUsers(n,f)).then((function(){return m(S.fetchUsers(t))}))):t!==o&&(m(S.clearUsers()),m(S.gotPage(t)),t<=s[1]&&t>=s[0]?m(S.fetchUsers(t)):m(S.searchUsers(n,f)).then((function(){console.log("WAS I HERE?"),m(S.fetchUsers(t))})))}),[n,t]),r.a.createElement("div",{id:"results"},i>0?r.a.createElement("div",{className:"total-count"},i," users"):null,l.length?l.map((function(e){var t=e.avatarUrl,n=e.name,a=e.login,c=e.email,o=e.location,l=e.repos,u=e.followers,i=e.bio,s=e.url;return r.a.createElement("a",{target:"_blank",href:s,key:a},r.a.createElement("div",{className:"user-container"},r.a.createElement("div",{className:"inner-container"},r.a.createElement("div",{className:"info-left"},r.a.createElement("img",{className:"user-avatar",src:t,alt:"user-avatar"})),r.a.createElement("div",{className:"info-right"},n?r.a.createElement("div",{className:"user-name"},n):null,r.a.createElement("div",{className:"login"},a),c?r.a.createElement("div",{className:"email"},c):null,o?r.a.createElement("div",{className:"loc"},o):null,r.a.createElement("div",{className:"repo"},l," repos"),r.a.createElement("div",{className:"followers"},u," followers"),i?r.a.createElement("div",{className:"user-bio"},i):null),r.a.createElement("div",{className:"fade-out"}))))})):r.a.createElement("div",{className:"loading"},"LOADING..."),l.length?r.a.createElement(q,null):null)},Y=function(){return r.a.createElement("div",{id:"main"},r.a.createElement(W,null),r.a.createElement(M,null))},q=function(){for(var e=Object(u.c)((function(e){return e.page})),t=Object(u.c)((function(e){return e.pagination})),n=Object(u.c)((function(e){return e.users})),a=Object(u.c)((function(e){return e.urls})),c=Object(K.g)().keyword,o=Object(K.f)(),l=[],i=t[0];i<=t[1];i++)l.push(i);var s=window.localStorage,m=Math.floor((e-1)/10)+1,f=function(){s.setItem(e,JSON.stringify(n)),s.setItem("API".concat(m),JSON.stringify(a)),o.push("/search/".concat(c,"/").concat(t[1]-10))},d=function(){s.setItem(e,JSON.stringify(n)),s.setItem("API".concat(m),JSON.stringify(a)),o.push("/search/".concat(c,"/").concat(t[0]+10))},g=function(t){s.setItem(e,JSON.stringify(n)),o.push("/search/".concat(c,"/").concat(t))};return r.a.createElement("div",{className:"page-nav"},1===t[0]?null:r.a.createElement("div",{onClick:f},"<<"),"1"===e?null:r.a.createElement("div",{onClick:function(){s.setItem(e,JSON.stringify(n)),e%10===1?f():g(Number(e)-1)}},"<"),l.map((function(t){var n="none";return t==e&&(n="bold"),r.a.createElement("div",{key:t,className:n,onClick:function(){return g(t)}},t)})),"100"===e?null:r.a.createElement("div",{onClick:function(){s.setItem(e,JSON.stringify(n)),e%10===0?d():g(Number(e)+1)}},">"),100===t[1]?null:r.a.createElement("div",{onClick:d},">>"))},x=function(){return r.a.createElement("div",null,r.a.createElement(K.c,null,r.a.createElement(K.a,{path:"/search/:keyword/:page",component:Y}),r.a.createElement(K.a,{path:"/",component:L})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(u.a,{store:J},r.a.createElement(l.a,null,r.a.createElement(x,null))),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.043fd8cf.chunk.js.map